#> asset:object/2016.axia_critical/tick/cast
#
# 発動
#
# @within function asset:object/2016.axia_critical/tick/

# 円.003
    particle flame ^-0.0 ^0.2 ^6.0 ^-0.0 ^1000000000.0 ^6.0 0.00000000013 0 force @a[distance=..32]
    particle flame ^0.588 ^0.2 ^5.971 ^0.588 ^1000000000.0 ^5.971 0.00000000027 0 force @a[distance=..32]
    particle flame ^1.171 ^0.2 ^5.885 ^1.171 ^1000000000.0 ^5.885 0.00000000013 0 force @a[distance=..32]
    particle flame ^1.742 ^0.2 ^5.742 ^1.742 ^1000000000.0 ^5.742 0.00000000027 0 force @a[distance=..32]
    particle flame ^2.296 ^0.2 ^5.543 ^2.296 ^1000000000.0 ^5.543 0.00000000013 0 force @a[distance=..32]
    particle flame ^2.828 ^0.2 ^5.292 ^2.828 ^1000000000.0 ^5.292 0.00000000027 0 force @a[distance=..32]
    particle flame ^3.333 ^0.2 ^4.989 ^3.333 ^1000000000.0 ^4.989 0.00000000013 0 force @a[distance=..32]
    particle flame ^3.806 ^0.2 ^4.638 ^3.806 ^1000000000.0 ^4.638 0.00000000027 0 force @a[distance=..32]
    particle flame ^4.243 ^0.2 ^4.243 ^4.243 ^1000000000.0 ^4.243 0.00000000013 0 force @a[distance=..32]
    particle flame ^4.638 ^0.2 ^3.806 ^4.638 ^1000000000.0 ^3.806 0.00000000027 0 force @a[distance=..32]
    particle flame ^4.989 ^0.2 ^3.333 ^4.989 ^1000000000.0 ^3.333 0.00000000013 0 force @a[distance=..32]
    particle flame ^5.292 ^0.2 ^2.828 ^5.292 ^1000000000.0 ^2.828 0.00000000027 0 force @a[distance=..32]
    particle flame ^5.543 ^0.2 ^2.296 ^5.543 ^1000000000.0 ^2.296 0.00000000013 0 force @a[distance=..32]
    particle flame ^5.742 ^0.2 ^1.742 ^5.742 ^1000000000.0 ^1.742 0.00000000027 0 force @a[distance=..32]
    particle flame ^5.885 ^0.2 ^1.171 ^5.885 ^1000000000.0 ^1.171 0.00000000013 0 force @a[distance=..32]
    particle flame ^5.971 ^0.2 ^0.588 ^5.971 ^1000000000.0 ^0.588 0.00000000027 0 force @a[distance=..32]
    particle flame ^6.0 ^0.2 ^0.0 ^6.0 ^1000000000.0 ^0.0 0.00000000013 0 force @a[distance=..32]
    particle flame ^5.971 ^0.2 ^-0.588 ^5.971 ^1000000000.0 ^-0.588 0.00000000027 0 force @a[distance=..32]
    particle flame ^5.885 ^0.2 ^-1.171 ^5.885 ^1000000000.0 ^-1.171 0.00000000013 0 force @a[distance=..32]
    particle flame ^5.742 ^0.2 ^-1.742 ^5.742 ^1000000000.0 ^-1.742 0.00000000027 0 force @a[distance=..32]
    particle flame ^5.543 ^0.2 ^-2.296 ^5.543 ^1000000000.0 ^-2.296 0.00000000013 0 force @a[distance=..32]
    particle flame ^5.292 ^0.2 ^-2.828 ^5.292 ^1000000000.0 ^-2.828 0.00000000027 0 force @a[distance=..32]
    particle flame ^4.989 ^0.2 ^-3.333 ^4.989 ^1000000000.0 ^-3.333 0.00000000013 0 force @a[distance=..32]
    particle flame ^4.638 ^0.2 ^-3.806 ^4.638 ^1000000000.0 ^-3.806 0.00000000027 0 force @a[distance=..32]
    particle flame ^4.243 ^0.2 ^-4.243 ^4.243 ^1000000000.0 ^-4.243 0.00000000013 0 force @a[distance=..32]
    particle flame ^3.806 ^0.2 ^-4.638 ^3.806 ^1000000000.0 ^-4.638 0.00000000027 0 force @a[distance=..32]
    particle flame ^3.333 ^0.2 ^-4.989 ^3.333 ^1000000000.0 ^-4.989 0.00000000013 0 force @a[distance=..32]
    particle flame ^2.828 ^0.2 ^-5.292 ^2.828 ^1000000000.0 ^-5.292 0.00000000027 0 force @a[distance=..32]
    particle flame ^2.296 ^0.2 ^-5.543 ^2.296 ^1000000000.0 ^-5.543 0.00000000013 0 force @a[distance=..32]
    particle flame ^1.742 ^0.2 ^-5.742 ^1.742 ^1000000000.0 ^-5.742 0.00000000027 0 force @a[distance=..32]
    particle flame ^1.171 ^0.2 ^-5.885 ^1.171 ^1000000000.0 ^-5.885 0.00000000013 0 force @a[distance=..32]
    particle flame ^0.588 ^0.2 ^-5.971 ^0.588 ^1000000000.0 ^-5.971 0.00000000027 0 force @a[distance=..32]
    particle flame ^-0.0 ^0.2 ^-6.0 ^-0.0 ^1000000000.0 ^-6.0 0.00000000013 0 force @a[distance=..32]
    particle flame ^-0.588 ^0.2 ^-5.971 ^-0.588 ^1000000000.0 ^-5.971 0.00000000027 0 force @a[distance=..32]
    particle flame ^-1.171 ^0.2 ^-5.885 ^-1.171 ^1000000000.0 ^-5.885 0.00000000013 0 force @a[distance=..32]
    particle flame ^-1.742 ^0.2 ^-5.742 ^-1.742 ^1000000000.0 ^-5.742 0.00000000027 0 force @a[distance=..32]
    particle flame ^-2.296 ^0.2 ^-5.543 ^-2.296 ^1000000000.0 ^-5.543 0.00000000013 0 force @a[distance=..32]
    particle flame ^-2.828 ^0.2 ^-5.292 ^-2.828 ^1000000000.0 ^-5.292 0.00000000027 0 force @a[distance=..32]
    particle flame ^-3.333 ^0.2 ^-4.989 ^-3.333 ^1000000000.0 ^-4.989 0.00000000013 0 force @a[distance=..32]
    particle flame ^-3.806 ^0.2 ^-4.638 ^-3.806 ^1000000000.0 ^-4.638 0.00000000027 0 force @a[distance=..32]
    particle flame ^-4.243 ^0.2 ^-4.243 ^-4.243 ^1000000000.0 ^-4.243 0.00000000013 0 force @a[distance=..32]
    particle flame ^-4.638 ^0.2 ^-3.806 ^-4.638 ^1000000000.0 ^-3.806 0.00000000027 0 force @a[distance=..32]
    particle flame ^-4.989 ^0.2 ^-3.333 ^-4.989 ^1000000000.0 ^-3.333 0.00000000013 0 force @a[distance=..32]
    particle flame ^-5.292 ^0.2 ^-2.828 ^-5.292 ^1000000000.0 ^-2.828 0.00000000027 0 force @a[distance=..32]
    particle flame ^-5.543 ^0.2 ^-2.296 ^-5.543 ^1000000000.0 ^-2.296 0.00000000013 0 force @a[distance=..32]
    particle flame ^-5.742 ^0.2 ^-1.742 ^-5.742 ^1000000000.0 ^-1.742 0.00000000027 0 force @a[distance=..32]
    particle flame ^-5.885 ^0.2 ^-1.171 ^-5.885 ^1000000000.0 ^-1.171 0.00000000013 0 force @a[distance=..32]
    particle flame ^-5.971 ^0.2 ^-0.588 ^-5.971 ^1000000000.0 ^-0.588 0.00000000027 0 force @a[distance=..32]
    particle flame ^-6.0 ^0.2 ^0.0 ^-6.0 ^1000000000.0 ^0.0 0.00000000013 0 force @a[distance=..32]
    particle flame ^-5.971 ^0.2 ^0.588 ^-5.971 ^1000000000.0 ^0.588 0.00000000027 0 force @a[distance=..32]
    particle flame ^-5.885 ^0.2 ^1.171 ^-5.885 ^1000000000.0 ^1.171 0.00000000013 0 force @a[distance=..32]
    particle flame ^-5.742 ^0.2 ^1.742 ^-5.742 ^1000000000.0 ^1.742 0.00000000027 0 force @a[distance=..32]
    particle flame ^-5.543 ^0.2 ^2.296 ^-5.543 ^1000000000.0 ^2.296 0.00000000013 0 force @a[distance=..32]
    particle flame ^-5.292 ^0.2 ^2.828 ^-5.292 ^1000000000.0 ^2.828 0.00000000027 0 force @a[distance=..32]
    particle flame ^-4.989 ^0.2 ^3.333 ^-4.989 ^1000000000.0 ^3.333 0.00000000013 0 force @a[distance=..32]
    particle flame ^-4.638 ^0.2 ^3.806 ^-4.638 ^1000000000.0 ^3.806 0.00000000027 0 force @a[distance=..32]
    particle flame ^-4.243 ^0.2 ^4.243 ^-4.243 ^1000000000.0 ^4.243 0.00000000013 0 force @a[distance=..32]
    particle flame ^-3.806 ^0.2 ^4.638 ^-3.806 ^1000000000.0 ^4.638 0.00000000027 0 force @a[distance=..32]
    particle flame ^-3.333 ^0.2 ^4.989 ^-3.333 ^1000000000.0 ^4.989 0.00000000013 0 force @a[distance=..32]
    particle flame ^-2.828 ^0.2 ^5.292 ^-2.828 ^1000000000.0 ^5.292 0.00000000027 0 force @a[distance=..32]
    particle flame ^-2.296 ^0.2 ^5.543 ^-2.296 ^1000000000.0 ^5.543 0.00000000013 0 force @a[distance=..32]
    particle flame ^-1.742 ^0.2 ^5.742 ^-1.742 ^1000000000.0 ^5.742 0.00000000027 0 force @a[distance=..32]
    particle flame ^-1.171 ^0.2 ^5.885 ^-1.171 ^1000000000.0 ^5.885 0.00000000013 0 force @a[distance=..32]
    particle flame ^-0.588 ^0.2 ^5.971 ^-0.588 ^1000000000.0 ^5.971 0.00000000027 0 force @a[distance=..32]

# 追加パーティクル
    particle dust 0.75 0.0 0.0 3 ~ ~1 ~ 3.5 0.5 3.5 0 100 force @a[distance=..32]

# 音
    playsound entity.generic.explode hostile @a[distance=..32] ~ ~ ~ 0.6 1.5
    playsound entity.generic.explode hostile @a[distance=..32] ~ ~ ~ 0.6 0.9
    playsound entity.generic.explode hostile @a[distance=..32] ~ ~ ~ 0.6 0.6
    playsound entity.breeze.shoot hostile @a[distance=..32] ~ ~ ~ 1 0.85
    playsound entity.breeze.shoot hostile @a[distance=..32] ~ ~ ~ 1 0.86
    playsound item.trident.thunder hostile @a[distance=..32] ~ ~ ~ 0.35 2
    playsound entity.wither.shoot hostile @a[distance=..32] ~ ~ ~ 0.45 1.5


#> score_holder
# @private
    #declare score_holder $DamageTemp

# 難易度値を取得
    function api:global_vars/get_difficulty

# ダメージ式：難易度数値 × 補正値 + 基礎
# Nは難易度値を示します
    execute store result score $DamageTemp Temporary run data get storage api: Return.Difficulty 35
    scoreboard players add $DamageTemp Temporary 60

# ダメージ
    # 引数の設定
    # 与えるダメージ
        execute store result storage api: Argument.Damage int 1 run scoreboard players get $DamageTemp Temporary
    # 第一属性
        data modify storage api: Argument.AttackType set value "Physical"
    # 第二属性
        data modify storage api: Argument.ElementType set value "Fire"
    # デスログ
        data modify storage api: Argument.DeathMessage append value '[{"translate": "%2$sの攻撃が200回転した！ %1$sは死んだ！","with":[{"selector":"@s"},{"nbt":"Return.AttackerName","storage":"lib:","interpret":true}]}]'
# 補正functionを実行
        data modify storage api: Argument.MobUUID set from storage asset:context this.MobUUID
        function api:damage/modifier_manual
# ダメージを与える
    execute as @a[tag=!PlayerShouldInvulnerable,distance=..6] at @s run function api:damage/
# リセット
    function api:damage/reset

# リセット
    scoreboard players reset $DamageTemp Temporary

# キル
    kill @s
