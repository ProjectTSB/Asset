#> asset:object/2140.louvert_meteor/tick/cast
#
# 発動処理
#
# @within function asset:object/2140.louvert_meteor/tick/

# コレクション 4--円.009
    particle flame ^-0.0 ^0.0 ^2.0 ^3.36 ^966234944.0 ^257662720.0 0.00000000016 0 normal
    particle flame ^0.39 ^0.0 ^1.962 ^142325680.0 ^683941184.0 ^715519296.0 0.00000000022 0 normal
    particle flame ^0.765 ^0.0 ^1.848 ^98603264.0 ^966234944.0 ^238049312.0 0.00000000016 0 normal
    particle flame ^1.111 ^0.0 ^1.663 ^405309184.0 ^683941120.0 ^606588096.0 0.00000000022 0 normal
    particle flame ^1.414 ^0.0 ^1.414 ^182195040.0 ^966234944.0 ^182195040.0 0.00000000016 0 normal
    particle flame ^1.663 ^0.0 ^1.111 ^606588096.0 ^683941120.0 ^405309184.0 0.00000000022 0 normal
    particle flame ^1.848 ^0.0 ^0.765 ^238049312.0 ^966234944.0 ^98603264.0 0.00000000016 0 normal
    particle flame ^1.962 ^0.0 ^0.39 ^715519296.0 ^683941184.0 ^142325680.0 0.00000000022 0 normal
    particle flame ^2.0 ^0.0 ^0.0 ^257662720.0 ^966234944.0 ^-0.96 0.00000000016 0 normal
    particle flame ^1.962 ^0.0 ^-0.39 ^715519296.0 ^683941184.0 ^-142325680.0 0.00000000022 0 normal
    particle flame ^1.848 ^0.0 ^-0.765 ^238049312.0 ^966234944.0 ^-98603264.0 0.00000000016 0 normal
    particle flame ^1.663 ^0.0 ^-1.111 ^606588096.0 ^683941120.0 ^-405309184.0 0.00000000022 0 normal
    particle flame ^1.414 ^0.0 ^-1.414 ^182195040.0 ^966234944.0 ^-182195040.0 0.00000000016 0 normal
    particle flame ^1.111 ^0.0 ^-1.663 ^405309184.0 ^683941120.0 ^-606588096.0 0.00000000022 0 normal
    particle flame ^0.765 ^0.0 ^-1.848 ^98603264.0 ^966234944.0 ^-238049312.0 0.00000000016 0 normal
    particle flame ^0.39 ^0.0 ^-1.962 ^142325680.0 ^683941184.0 ^-715519296.0 0.00000000022 0 normal
    particle flame ^-0.0 ^0.0 ^-2.0 ^3.36 ^966234944.0 ^-257662720.0 0.00000000016 0 normal
    particle flame ^-0.39 ^0.0 ^-1.962 ^-142325680.0 ^683941184.0 ^-715519296.0 0.00000000022 0 normal
    particle flame ^-0.765 ^0.0 ^-1.848 ^-98603264.0 ^966234944.0 ^-238049312.0 0.00000000016 0 normal
    particle flame ^-1.111 ^0.0 ^-1.663 ^-405309184.0 ^683941120.0 ^-606588096.0 0.00000000022 0 normal
    particle flame ^-1.414 ^0.0 ^-1.414 ^-182195040.0 ^966234944.0 ^-182195040.0 0.00000000016 0 normal
    particle flame ^-1.663 ^0.0 ^-1.111 ^-606588096.0 ^683941120.0 ^-405309184.0 0.00000000022 0 normal
    particle flame ^-1.848 ^0.0 ^-0.765 ^-238049312.0 ^966234944.0 ^-98603264.0 0.00000000016 0 normal
    particle flame ^-1.962 ^0.0 ^-0.39 ^-715519296.0 ^683941184.0 ^-142325680.0 0.00000000022 0 normal
    particle flame ^-2.0 ^0.0 ^0.0 ^-257662720.0 ^966234944.0 ^-0.96 0.00000000016 0 normal
    particle flame ^-1.962 ^0.0 ^0.39 ^-715519296.0 ^683941184.0 ^142325680.0 0.00000000022 0 normal
    particle flame ^-1.848 ^0.0 ^0.765 ^-238049312.0 ^966234944.0 ^98603264.0 0.00000000016 0 normal
    particle flame ^-1.663 ^0.0 ^1.111 ^-606588096.0 ^683941120.0 ^405309184.0 0.00000000022 0 normal
    particle flame ^-1.414 ^0.0 ^1.414 ^-182195040.0 ^966234944.0 ^182195040.0 0.00000000016 0 normal
    particle flame ^-1.111 ^0.0 ^1.663 ^-405309184.0 ^683941120.0 ^606588096.0 0.00000000022 0 normal
    particle flame ^-0.765 ^0.0 ^1.848 ^-98603264.0 ^966234944.0 ^238049312.0 0.00000000016 0 normal
    particle flame ^-0.39 ^0.0 ^1.962 ^-142325680.0 ^683941184.0 ^715519296.0 0.00000000022 0 normal
# コレクション 4--円.010
    particle end_rod ^-0.0 ^0.0 ^2.2 ^5.251 ^915315008.0 ^402738656.0 0.00000000011 0 normal
    particle end_rod ^0.429 ^0.0 ^2.158 ^169622608.0 ^494009440.0 ^852750208.0 0.00000000020 0 normal
    particle end_rod ^0.842 ^0.0 ^2.033 ^154121456.0 ^915314944.0 ^372082176.0 0.00000000011 0 normal
    particle end_rod ^1.222 ^0.0 ^1.829 ^483044256.0 ^494009440.0 ^722926720.0 0.00000000020 0 normal
    particle end_rod ^1.556 ^0.0 ^1.556 ^284779168.0 ^915315008.0 ^284779168.0 0.00000000011 0 normal
    particle end_rod ^1.829 ^0.0 ^1.222 ^722926720.0 ^494009440.0 ^483044256.0 0.00000000020 0 normal
    particle end_rod ^2.033 ^0.0 ^0.842 ^372082176.0 ^915314944.0 ^154121456.0 0.00000000011 0 normal
    particle end_rod ^2.158 ^0.0 ^0.429 ^852750208.0 ^494009440.0 ^169622608.0 0.00000000020 0 normal
    particle end_rod ^2.2 ^0.0 ^0.0 ^402738656.0 ^915315008.0 ^-1.5 0.00000000011 0 normal
    particle end_rod ^2.158 ^0.0 ^-0.429 ^852750208.0 ^494009440.0 ^-169622608.0 0.00000000020 0 normal
    particle end_rod ^2.033 ^0.0 ^-0.842 ^372082176.0 ^915314944.0 ^-154121456.0 0.00000000011 0 normal
    particle end_rod ^1.829 ^0.0 ^-1.222 ^722926720.0 ^494009440.0 ^-483044256.0 0.00000000020 0 normal
    particle end_rod ^1.556 ^0.0 ^-1.556 ^284779168.0 ^915315008.0 ^-284779168.0 0.00000000011 0 normal
    particle end_rod ^1.222 ^0.0 ^-1.829 ^483044256.0 ^494009440.0 ^-722926720.0 0.00000000020 0 normal
    particle end_rod ^0.842 ^0.0 ^-2.033 ^154121456.0 ^915314944.0 ^-372082176.0 0.00000000011 0 normal
    particle end_rod ^0.429 ^0.0 ^-2.158 ^169622608.0 ^494009440.0 ^-852750208.0 0.00000000020 0 normal
    particle end_rod ^-0.0 ^0.0 ^-2.2 ^5.251 ^915315008.0 ^-402738656.0 0.00000000011 0 normal
    particle end_rod ^-0.429 ^0.0 ^-2.158 ^-169622608.0 ^494009440.0 ^-852750208.0 0.00000000020 0 normal
    particle end_rod ^-0.842 ^0.0 ^-2.033 ^-154121456.0 ^915314944.0 ^-372082176.0 0.00000000011 0 normal
    particle end_rod ^-1.222 ^0.0 ^-1.829 ^-483044256.0 ^494009440.0 ^-722926720.0 0.00000000020 0 normal
    particle end_rod ^-1.556 ^0.0 ^-1.556 ^-284779168.0 ^915315008.0 ^-284779168.0 0.00000000011 0 normal
    particle end_rod ^-1.829 ^0.0 ^-1.222 ^-722926720.0 ^494009440.0 ^-483044256.0 0.00000000020 0 normal
    particle end_rod ^-2.033 ^0.0 ^-0.842 ^-372082176.0 ^915314944.0 ^-154121456.0 0.00000000011 0 normal
    particle end_rod ^-2.158 ^0.0 ^-0.429 ^-852750208.0 ^494009440.0 ^-169622608.0 0.00000000020 0 normal
    particle end_rod ^-2.2 ^0.0 ^0.0 ^-402738656.0 ^915315008.0 ^-1.5 0.00000000011 0 normal
    particle end_rod ^-2.158 ^0.0 ^0.429 ^-852750208.0 ^494009440.0 ^169622608.0 0.00000000020 0 normal
    particle end_rod ^-2.033 ^0.0 ^0.842 ^-372082176.0 ^915314944.0 ^154121456.0 0.00000000011 0 normal
    particle end_rod ^-1.829 ^0.0 ^1.222 ^-722926720.0 ^494009440.0 ^483044256.0 0.00000000020 0 normal
    particle end_rod ^-1.556 ^0.0 ^1.556 ^-284779168.0 ^915315008.0 ^284779168.0 0.00000000011 0 normal
    particle end_rod ^-1.222 ^0.0 ^1.829 ^-483044256.0 ^494009440.0 ^722926720.0 0.00000000020 0 normal
    particle end_rod ^-0.842 ^0.0 ^2.033 ^-154121456.0 ^915314944.0 ^372082176.0 0.00000000011 0 normal
    particle end_rod ^-0.429 ^0.0 ^2.158 ^-169622608.0 ^494009440.0 ^852750208.0 0.00000000020 0 normal
# 追加パーティクル
    particle dust 100000000 1 0 2 ~ ~1.5 ~ 1 1 1 0 50 force @a[distance=..32]
    particle dust 100000000 2 0 1.5 ~ ~3 ~ 0.75 2 0.75 0 50 force @a[distance=..32]
    particle dust 100000000 2 0 1 ~ ~6 ~ 0.4 4 0.4 0 50 force @a[distance=..32]
# 音
    playsound entity.generic.explode hostile @a[distance=..32] ~ ~ ~ 0.6 1.5
    playsound block.amethyst_block.resonate hostile @a[distance=..32] ~ ~ ~ 1 0.52
    playsound block.amethyst_block.resonate hostile @a[distance=..32] ~ ~ ~ 1 0.51
    playsound block.amethyst_block.resonate hostile @a[distance=..32] ~ ~ ~ 1 0.5
    playsound entity.blaze.shoot hostile @a[distance=..32] ~ ~ ~ 1 1.3
    playsound item.trident.thunder hostile @a[distance=..32] ~ ~ ~ 0.35 2

# 引数の設定
    # 与えるダメージ
        data modify storage api: Argument.Damage set value 40.0f
    # 第一属性
        data modify storage api: Argument.AttackType set value "Magic"
    # 第二属性
        data modify storage api: Argument.ElementType set value "Fire"
    # デスログ
        data modify storage api: Argument.DeathMessage append value '[{"translate": "%1$sは%2$sのメテオによって灰にされた","with":[{"selector":"@s"},{"nbt":"Return.AttackerName","storage":"lib:","interpret":true}]}]'
# 補正functionを実行
    data modify storage api: Argument.MobUUID set from storage asset:context this.MobUUID
    function api:damage/modifier_manual
# ダメージを与える
    execute as @a[gamemode=!creative,distance=..2] at @s run function api:damage/
# リセット
    function api:damage/reset

# キル
    kill @s
    kill @e[type=item_display,tag=2140.Meteor.Display,distance=..0.1,limit=1]
